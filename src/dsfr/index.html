<!doctype html>
<html lang="fr" data-fr-scheme="system">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="../../node_modules/@gouvfr/dsfr/dist/dsfr/dsfr.min.css">

		<meta name="theme-color" content="#000091">

		<!--
		<link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
		<link rel="icon" href="favicon/favicon.svg" type="image/svg+xml">
		<link rel="shortcut icon" href="favicon/favicon.ico" type="image/x-icon">
		<link rel="manifest" href="favicon/manifest.webmanifest" crossorigin="use-credentials">
		-->

		<title>Orejime DSFR integration</title>
	</head>

	<body>
		<div id="app">

		</div>

		<template id="orejime-notice">
			<div class="fr-consent-banner">
				<p class="fr-h6 fr-mb-3v">À propos des cookies</p>
				<div class="fr-consent-banner__content">
					<p class="fr-text--sm">Bienvenue ! Nous utilisons des cookies pour améliorer votre expérience et les services disponibles sur ce site. Pour en savoir plus, visitez la page <a href="">Données personnelles et cookies</a>. Vous pouvez, à tout moment, avoir le contrôle sur les cookies que vous souhaitez activer.</p>
				</div>
				<ul class="fr-consent-banner__buttons fr-btns-group fr-btns-group--right fr-btns-group--inline-reverse fr-btns-group--inline-sm">
					<li>
						<button class="fr-btn" data-orejime-notice-accept>
							Tout accepter
						</button>
					</li>
					<li>
						<button class="fr-btn" data-orejime-notice-decline>
							Tout refuser
						</button>
					</li>
					<li>
						<!-- Ce bouton permet l'ouverture de la modale de finalité ayant pour id 'fr-consent-modal' -->
						<button class="fr-btn fr-btn--secondary" data-fr-opened="false" aria-controls="fr-consent-modal" data-orejime-notice-configure>
							Personnaliser
						</button>
					</li>
				</ul>
			</div>
		 </template>

		<template id="orejime-modal">
			<dialog id="fr-consent-modal" class="fr-modal" role="dialog" aria-labelledby="fr-consent-modal-title">
				<div class="fr-container fr-container--fluid fr-container-md">
					 <div class="fr-grid-row fr-grid-row--center">
						  <div class="fr-col-12 fr-col-md-10 fr-col-lg-8">
								<div class="fr-modal__body fr-scroll-shadow" style="max-height: 370px;">
									 <div class="fr-modal__header">
										  <button class="fr-link--close fr-link" aria-controls="fr-consent-modal">Fermer</button>
									 </div>
									 <div class="fr-modal__content">
										  <h1 id="fr-consent-modal-title" class="fr-modal__title">
												Panneau de gestion des cookies
										  </h1>
										  <div class="fr-consent-manager">
												<!-- Finalités -->
												<div class="fr-consent-service fr-consent-manager__header">
													 <fieldset class="fr-fieldset fr-fieldset--inline">
														  <legend class="fr-consent-service__title">Préférences pour tous les services. <a href="">Données personnelles et cookies</a>
														  </legend>
														  <div class="fr-consent-service__radios">
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-all-accept" name="consent-all">
																	 <label class="fr-label" for="consent-all-accept">Tout accepter
																	 </label>
																</div>
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-all-refuse" name="consent-all">
																	 <label class="fr-label" for="consent-all-refuse">Tout refuser
																	 </label>
																</div>
														  </div>
													 </fieldset>
												</div>
												<div class="fr-consent-service">
													 <fieldset class="fr-fieldset fr-fieldset--inline">
														  <legend aria-describedby="&quot;finality-0-desc&quot;" class="fr-consent-service__title">Cookies obligatoires</legend>
														  <div class="fr-consent-service__radios">
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-finality-0-accept" name="consent-finality-0">
																	 <label class="fr-label" for="consent-finality-0-accept">Accepter
																	 </label>
																</div>
																<div class="fr-radio-group">
																	 <input disabled="" type="radio" id="consent-finality-0-refuse" name="consent-finality-0">
																	 <label class="fr-label" for="consent-finality-0-refuse">Refuser
																	 </label>
																</div>
														  </div>
														  <p id="finality-0-desc" class="fr-consent-service__desc">Ce site utilise des cookies nécessaires à son bon fonctionnement qui ne peuvent pas être désactivés.</p>
													 </fieldset>
												</div>
												<div class="fr-consent-service">
													 <fieldset class="fr-fieldset fr-fieldset--inline">
														  <legend aria-describedby="&quot;finality-1-desc&quot;" class="fr-consent-service__title">Nom de la finalité</legend>
														  <div class="fr-consent-service__radios">
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-finality-1-accept" name="consent-finality-1-">
																	 <label class="fr-label" for="consent-finality-1-accept">Accepter
																	 </label>
																</div>
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-finality-1-refuse" name="consent-finality-1-">
																	 <label class="fr-label" for="consent-finality-1-refuse">Refuser
																	 </label>
																</div>
														  </div>
														  <p id="finality-1-desc" class="fr-consent-service__desc">Description optionnelle de la finalité, lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi in suscipit nulla, et pulvinar velit.</p>
														  <div class="fr-consent-service__collapse">
																<button class="fr-consent-service__collapse-btn" aria-expanded="false" aria-controls="finality-1-collapse"> Voir plus de détails</button>
														  </div>
														  <div class="fr-consent-services fr-collapse" id="finality-1-collapse">
																<!-- Sous finalités -->
																<div class="fr-consent-service">
																	 <fieldset class="fr-fieldset fr-fieldset--inline">
																		  <legend class="fr-consent-service__title">Sous finalité 1</legend>
																		  <div class="fr-consent-service__radios fr-fieldset--inline">
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-1-service-1-accept" name="consent-finality-1-service-1">
																					 <label class="fr-label" for="consent-finality-1-service-1-accept">Accepter
																					 </label>
																				</div>
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-1-service-1-refuse" name="consent-finality-1-service-1">
																					 <label class="fr-label" for="consent-finality-1-service-1-refuse">Refuser
																					 </label>
																				</div>
																		  </div>
																	 </fieldset>
																</div>
																<div class="fr-consent-service">
																	 <fieldset class="fr-fieldset fr-fieldset--inline">
																		  <legend class="fr-consent-service__title">Sous finalité 2</legend>
																		  <div class="fr-consent-service__radios fr-fieldset--inline">
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-1-service-2-accept" name="consent-finality-1-service-2">
																					 <label class="fr-label" for="consent-finality-1-service-2-accept">Accepter
																					 </label>
																				</div>
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-1-service-2-refuse" name="consent-finality-1-service-2">
																					 <label class="fr-label" for="consent-finality-1-service-2-refuse">Refuser
																					 </label>
																				</div>
																		  </div>
																	 </fieldset>
																</div>
																<div class="fr-consent-service">
																	 <fieldset class="fr-fieldset fr-fieldset--inline">
																		  <legend class="fr-consent-service__title">Sous finalité 3</legend>
																		  <div class="fr-consent-service__radios fr-fieldset--inline">
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-1-service-3-accept" name="consent-finality-1-service-3">
																					 <label class="fr-label" for="consent-finality-1-service-3-accept">Accepter
																					 </label>
																				</div>
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-1-service-3-refuse" name="consent-finality-1-service-3">
																					 <label class="fr-label" for="consent-finality-1-service-3-refuse">Refuser
																					 </label>
																				</div>
																		  </div>
																	 </fieldset>
																</div>
														  </div>
													 </fieldset>
												</div>
												<div class="fr-consent-service">
													 <fieldset class="fr-fieldset fr-fieldset--inline">
														  <legend aria-describedby="&quot;finality-2-desc&quot;" class="fr-consent-service__title">Nom de la finalité</legend>
														  <div class="fr-consent-service__radios">
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-finality-2-accept" name="consent-finality-2-">
																	 <label class="fr-label" for="consent-finality-2-accept">Accepter
																	 </label>
																</div>
																<div class="fr-radio-group">
																	 <input type="radio" id="consent-finality-2-refuse" name="consent-finality-2-">
																	 <label class="fr-label" for="consent-finality-2-refuse">Refuser
																	 </label>
																</div>
														  </div>
														  <p id="finality-2-desc" class="fr-consent-service__desc">Description optionnelle de la finalité, lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi in suscipit nulla, et pulvinar velit.</p>
														  <div class="fr-consent-service__collapse">
																<button class="fr-consent-service__collapse-btn" aria-expanded="false" aria-controls="finality-2-collapse"> Voir plus de détails</button>
														  </div>
														  <div class="fr-consent-services fr-collapse" id="finality-2-collapse">
																<!-- Sous finalités -->
																<div class="fr-consent-service">
																	 <fieldset class="fr-fieldset fr-fieldset--inline">
																		  <legend class="fr-consent-service__title">Sous finalité 1</legend>
																		  <div class="fr-consent-service__radios fr-fieldset--inline">
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-2-service-1-accept" name="consent-finality-2-service-1">
																					 <label class="fr-label" for="consent-finality-2-service-1-accept">Accepter
																					 </label>
																				</div>
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-2-service-1-refuse" name="consent-finality-2-service-1">
																					 <label class="fr-label" for="consent-finality-2-service-1-refuse">Refuser
																					 </label>
																				</div>
																		  </div>
																	 </fieldset>
																</div>
																<div class="fr-consent-service">
																	 <fieldset class="fr-fieldset fr-fieldset--inline">
																		  <legend class="fr-consent-service__title" aria-decribedby="&quot;undefined-desc&quot;">Sous finalité 2</legend>
																		  <div class="fr-consent-service__radios fr-fieldset--inline">
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-2-service-2-accept" name="consent-finality-2-service-2">
																					 <label class="fr-label" for="consent-finality-2-service-2-accept">Accepter
																					 </label>
																				</div>
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-2-service-2-refuse" name="consent-finality-2-service-2">
																					 <label class="fr-label" for="consent-finality-2-service-2-refuse">Refuser
																					 </label>
																				</div>
																		  </div>
																		  <p id="-desc" class="fr-consent-service__desc">Ce service utilise 3 cookies.</p>
																	 </fieldset>
																</div>
																<div class="fr-consent-service">
																	 <fieldset class="fr-fieldset fr-fieldset--inline">
																		  <legend class="fr-consent-service__title">Sous finalité 3</legend>
																		  <div class="fr-consent-service__radios fr-fieldset--inline">
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-2-service-3-accept" name="consent-finality-2-service-3">
																					 <label class="fr-label" for="consent-finality-2-service-3-accept">Accepter
																					 </label>
																				</div>
																				<div class="fr-radio-group">
																					 <input type="radio" id="consent-finality-2-service-3-refuse" name="consent-finality-2-service-3">
																					 <label class="fr-label" for="consent-finality-2-service-3-refuse">Refuser
																					 </label>
																				</div>
																		  </div>
																	 </fieldset>
																</div>
														  </div>
													 </fieldset>
												</div>
												<!-- Bouton de confirmation/fermeture -->
												<ul class="fr-consent-manager__buttons fr-btns-group fr-btns-group--right fr-btns-group--inline-sm">
													 <li>
														  <button class="fr-btn" id="fr-consent-modal" title="Confirmer mes choix">
																Confirmer mes choix
														  </button>
													 </li>
												</ul>
										  </div>
									 </div>
								</div>
						  </div>
					 </div>
				</div>
			</dialog>
		 </template>

		<script type="module" src="../../node_modules/@gouvfr/dsfr/dist/dsfr/dsfr.module.min.js"></script>
		<script type="text/javascript" nomodule src="../../node_modules/@gouvfr/dsfr/dist/dsfr/dsfr.nomodule.min.js"></script>

		<script>
			// see the annotated config in the README for details on how everything works
			window.orejimeConfig = {
				appElement: "#app",
				privacyPolicy: "#privacyPolicy",
				dsfr: {
					noticeTemplate: () => document.querySelector('#productrow').cloneNode(true)
				},
				trackers: [
					{
						id: "inline-tracker",
						name: "inline-tracker",
						title: "Inline Tracker",
						purposes: ["analytics"],
						cookies: ["inline-tracker"]
					},
					{
						id: "external-tracker",
						name: "external-tracker",
						title: "External Tracker",
						purposes: ["analytics", "security"],
						cookies: ["external-tracker"],
						isMandatory: true
					},
					{
						id: "disabled-by-default",
						name: "disabled-by-default",
						title: "Something disabled by default",
						purposes: ["ads"],
						default: false
					},
					{
						id: "always-on",
						name: "always-on",
						title: "Required app",
						purposes: [],
						required: true,
						isMandatory: true
					}
				]
			}
		</script>

		<script type="module" src="./orejime.ts"></script>
		<script type="module" src="./setup.ts"></script>
	</body>
</html>
