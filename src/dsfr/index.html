<!doctype html>
<html lang="fr" data-fr-scheme="system">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="../../node_modules/@gouvfr/dsfr/dist/dsfr/dsfr.min.css">

		<meta name="theme-color" content="#000091">

		<!--
		<link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
		<link rel="icon" href="favicon/favicon.svg" type="image/svg+xml">
		<link rel="shortcut icon" href="favicon/favicon.ico" type="image/x-icon">
		<link rel="manifest" href="favicon/manifest.webmanifest" crossorigin="use-credentials">
		-->

		<title>Orejime DSFR integration</title>
	</head>

	<body>
		<div id="app">

		</div>

		<template id="orejime-notice">
			<div class="fr-consent-banner">
				<p class="fr-h6 fr-mb-3v">À propos des cookies</p>
				<div class="fr-consent-banner__content">
					<p class="fr-text--sm">Bienvenue ! Nous utilisons des cookies pour améliorer votre expérience et les services disponibles sur ce site. Pour en savoir plus, visitez la page <a href="">Données personnelles et cookies</a>. Vous pouvez, à tout moment, avoir le contrôle sur les cookies que vous souhaitez activer.</p>
				</div>
				<ul class="fr-consent-banner__buttons fr-btns-group fr-btns-group--right fr-btns-group--inline-reverse fr-btns-group--inline-sm">
					<li>
						<button class="fr-btn" data-orejime-notice-accept>
							Tout accepter
						</button>
					</li>
					<li>
						<button class="fr-btn" data-orejime-notice-decline>
							Tout refuser
						</button>
					</li>
					<li>
						<!-- Ce bouton permet l'ouverture de la modale de finalité ayant pour id 'fr-consent-modal' -->
						<button class="fr-btn fr-btn--secondary" data-fr-opened="false" aria-controls="fr-consent-modal" data-orejime-notice-configure>
							Personnaliser
						</button>
					</li>
				</ul>
			</div>
		 </template>

		<script type="module" src="../../node_modules/@gouvfr/dsfr/dist/dsfr/dsfr.module.min.js"></script>
		<script type="text/javascript" nomodule src="../../node_modules/@gouvfr/dsfr/dist/dsfr/dsfr.nomodule.min.js"></script>

		<script>
			// see the annotated config in the README for details on how everything works
			window.orejimeConfig = {
				appElement: "#app",
				privacyPolicy: "#privacyPolicy",
				dsfr: {
					noticeTemplate: () => document.querySelector('#productrow').cloneNode(true)
				},
				trackers: [
					{
						id: "inline-tracker",
						name: "inline-tracker",
						title: "Inline Tracker",
						purposes: ["analytics"],
						cookies: ["inline-tracker"]
					},
					{
						id: "external-tracker",
						name: "external-tracker",
						title: "External Tracker",
						purposes: ["analytics", "security"],
						cookies: ["external-tracker"],
						isMandatory: true
					},
					{
						id: "disabled-by-default",
						name: "disabled-by-default",
						title: "Something disabled by default",
						purposes: ["ads"],
						default: false
					},
					{
						id: "always-on",
						name: "always-on",
						title: "Required app",
						purposes: [],
						required: true,
						isMandatory: true
					}
				]
			}
		</script>

		<script type="module" src="./orejime.ts"></script>
		<script type="module" src="./setup.ts"></script>
	</body>
</html>
